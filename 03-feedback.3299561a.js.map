{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAiB,uBAChBC,UAASC,MAACC,EAAKC,QAACC,IAAYR,GAkBnC,WACI,IACI,MAAMS,EAAmBC,aAAaC,QAAQR,GACxCS,EAAeC,KAAKC,MAAML,GAChCM,QAAQC,IAAIJ,GACZN,EAAMW,MAAQL,EAAaP,OAAS,GACpCG,EAAQS,MAAQL,EAAaL,SAAW,EAI5C,CAFA,MAAMW,GACFH,QAAQC,IAAI,kBAAkBE,EAAMX,QACxC,CACJ,CAWAY,GACAnB,EAAKoB,iBAAiB,SAAQ,EAAAtB,EAAAuB,WAnCFC,IAExB,IAAIV,EAAeF,aAAaC,QAAQR,GACxCS,EAAeC,KAAKC,MAAMF,IAAiB,CAAC,EAC5CA,EAAaU,EAAMC,OAAOC,MAAQF,EAAMC,OAAON,MAE/CF,QAAQC,IAAIJ,GAEZF,aAAae,QAAQtB,EAAeU,KAAKa,UAAUd,GAAA,GA2BG,MAE1DZ,EAAKoB,iBAAiB,UAZtB,SAA2BE,GACvBA,EAAMK,iBAENZ,QAAQC,IAAIH,KAAKC,MAAMJ,aAAaC,QAAQR,KAC5CO,aAAakB,WAAWzB,GACxBmB,EAAMO,cAAcC,OACxB,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from \"lodash\";\n\nconst form = document.querySelector(\".feedback-form\");\nconst FORM_STATE_KEY = \"feedback-form-state\";\nconst {elements:{email,message}} = form;// for update values\n\n\n\n\n\nconst saveMessageHandler = (event) =>{\n\n    let retrivedData = localStorage.getItem(FORM_STATE_KEY);\n    retrivedData = JSON.parse(retrivedData) || {};\n    retrivedData[event.target.name] = event.target.value;\n\n    console.log(retrivedData);\n    \n    localStorage.setItem(FORM_STATE_KEY,JSON.stringify(retrivedData));\n   \n}\n\nfunction updateInput(){\n    try{\n        const serializedInputs = localStorage.getItem(FORM_STATE_KEY);\n        const retrivedData = JSON.parse(serializedInputs);\n        console.log(retrivedData);// return object\n        email.value = retrivedData.email || \"\";\n        message.value = retrivedData.message || \"\";\n    }\n    catch(error){\n        console.log(\"Get error state\",error.message);\n    }\n}\n\nfunction formSubmitHandler(event){\n    event.preventDefault();\n    \n    console.log(JSON.parse(localStorage.getItem(FORM_STATE_KEY)));\n    localStorage.removeItem(FORM_STATE_KEY);\n    event.currentTarget.reset();\n}\n\n\nupdateInput()\nform.addEventListener(\"input\",throttle(saveMessageHandler,500)); \n// to use throttle with eventListener need to use \"tartget\" NOT currentTarget cause during bubbling target all the time the same!!\nform.addEventListener(\"submit\",formSubmitHandler);"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$FORM_STATE_KEY","elements","email","$b00c40859be242c5$var$email","message","$b00c40859be242c5$var$message","serializedInputs","localStorage","getItem","retrivedData","JSON","parse","console","log","value","error","$b00c40859be242c5$var$updateInput","addEventListener","throttle","event","target","name","setItem","stringify","preventDefault","removeItem","currentTarget","reset"],"version":3,"file":"03-feedback.3299561a.js.map"}